{"version":3,"sources":["Home.tsx"],"names":["react_router_dom_1","require","react_1","illustration_svg_1","logo_svg_1","google_icon_svg_1","firebase_1","Button_1","useAuth_1","Home","history","useHistory","_a","useAuth","user","signInWithGoogle","_b","useState","roomCode","setRoomCode","React","createElement","id","src","alt","className","onClick","sent","push","onSubmit","event","preventDefault","trim","database","ref","get","roomRef","exists","val","endedAt","alert","type","placeholder","onChange","target","value","Button","exports"],"mappings":"y7CAAA,IAAAA,mBAAAC,QAAA,oBACAC,QAAAD,QAAA,SAGAE,mBAAAF,QAAA,qCACAG,WAAAH,QAAA,6BACAI,kBAAAJ,QAAA,oCAEAK,WAAAL,QAAA,wBAEAM,SAAAN,QAAA,wBACAO,UAAAP,QAAA,oBAIA,SAAgBQ,OACd,IAAMC,EAAUV,mBAAAW,aACVC,EAAAJ,UAAAK,UAAEC,EAAAF,EAAAE,KAAMC,EAAAH,EAAAG,iBACRC,EAAAd,QAAAe,SAAA,IAACC,EAAAF,EAAA,GAAUG,EAAAH,EAAA,GAgCjB,OACEI,MAAAC,cAAA,MAAA,CAAKC,GAAG,aACNF,MAAAC,cAAA,QAAA,KACED,MAAAC,cAAA,MAAA,CAAKE,IAAKpB,mBAAA,QAAiBqB,IAAI,kDAC/BJ,MAAAC,cAAA,SAAA,KAAA,6BACAD,MAAAC,cAAA,IAAA,KAAA,mDAEFD,MAAAC,cAAA,OAAA,KACED,MAAAC,cAAA,MAAA,CAAKI,UAAU,gBACbL,MAAAC,cAAA,MAAA,CAAKE,IAAKnB,WAAA,QAASoB,IAAI,aACvBJ,MAAAC,cAAA,SAAA,CAAQK,QAxChB,4HACOZ,EAAD,CAAA,EAAA,GACF,CAAA,EAAMC,YAANH,EAAAe,+BAGFjB,EAAQkB,KAAK,wBAmC4BH,UAAU,eAC3CL,MAAAC,cAAA,MAAA,CAAKE,IAAKlB,kBAAA,QAAemB,IAAI,iDAG/BJ,MAAAC,cAAA,MAAA,CAAKI,UAAU,aAAW,wBAC1BL,MAAAC,cAAA,OAAA,CAAMQ,SArCd,SAA8BC,mHAG5B,OAFAA,EAAMC,iBAEkB,KAApBb,EAASc,OACX,CAAA,GAGc,CAAA,EAAM1B,WAAA2B,SAASC,IAAI,SAAShB,GAAYiB,cAExD,OAFMC,EAAUxB,EAAAe,QAEHU,SAKTD,EAAQE,MAAMC,QAChBC,MAAM,wBAIR9B,EAAQkB,KAAK,UAAUV,GATrBsB,MAAM,yBAMN,CAAA,UAsBMpB,MAAAC,cAAA,QAAA,CACEoB,KAAK,OACLC,YAAY,0BACZC,SAAU,SAAAb,GAAS,OAAAX,EAAYW,EAAMc,OAAOC,QAC5CA,MAAO3B,IAETE,MAAAC,cAACd,SAAAuC,OAAM,CAACL,KAAK,UAAQ,sBA3DjCxC,QAAA,uBAEA8C,QAAAtC,KAAAA","file":"Home.min.js","sourcesContent":["import { useHistory } from 'react-router-dom'\nimport { FormEvent, useState } from 'react';\n\n//webpack\nimport illustrationImg from '../assets/images/illustration.svg'\nimport logoImg from '../assets/images/logo.svg';\nimport googleIconImg from '../assets/images/google-icon.svg';\n\nimport { database } from '../services/firebase';\n\nimport { Button } from '../components/Button';\nimport { useAuth } from '../hooks/useAuth';\n\nimport '../styles/auth.scss';\n\nexport function Home() {\n  const history = useHistory();\n  const { user, signInWithGoogle } = useAuth()\n  const [roomCode, setRoomCode] = useState('');\n\n  async function handleCreateRoom() {\n    if (!user) {\n      await signInWithGoogle()\n    }\n\n    history.push('/rooms/new');\n  }\n\n  async function handleJoinRoom(event: FormEvent) {\n    event.preventDefault();\n\n    if (roomCode.trim() === '') {\n      return;\n    }\n\n    const roomRef = await database.ref(`rooms/${roomCode}`).get();\n\n    if (!roomRef.exists()) {\n      alert('Room does not exists.');\n      return;\n    }\n\n    if (roomRef.val().endedAt) {\n      alert('Room already closed.');\n      return;\n    }\n\n    history.push(`/rooms/${roomCode}`);\n  }\n\n  return (\n    <div id=\"page-auth\">\n      <aside>\n        <img src={illustrationImg} alt=\"Ilustração simbolizando perguntas e respostas\" />\n        <strong>Crie salas de Q&amp;A ao-vivo</strong>\n        <p>Tire as dúvidas da sua audiência em tempo-real</p>\n      </aside>\n      <main>\n        <div className=\"main-content\">\n          <img src={logoImg} alt=\"Letmeask\" />\n          <button onClick={handleCreateRoom} className=\"create-room\">\n            <img src={googleIconImg} alt=\"Logo do Google\" />\n            Crie sua sala com o Google\n          </button>\n          <div className=\"separator\">ou entre em uma sala</div>\n          <form onSubmit={handleJoinRoom}>\n            <input \n              type=\"text\"\n              placeholder=\"Digite o código da sala\"\n              onChange={event => setRoomCode(event.target.value)}\n              value={roomCode}\n            />\n            <Button type=\"submit\">\n              Entrar na sala\n            </Button>\n          </form>\n        </div>\n      </main>\n    </div>\n  )\n}"]}