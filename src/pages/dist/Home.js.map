{"version":3,"sources":["Home.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,qDAA6C;AAC7C,+BAA4C;AAE5C,SAAS;AACT,sEAA+D;AAC/D,sDAAgD;AAChD,oEAA6D;AAE7D,iDAAgD;AAEhD,+CAA8C;AAC9C,4CAA2C;AAE3C,+BAA6B;AAE7B,SAAgB,IAAI;IAClB,IAAM,OAAO,GAAG,6BAAU,EAAE,CAAC;IACvB,IAAA,wBAAsC,EAApC,cAAI,EAAE,sCAA8B,CAAA;IACtC,IAAA,yBAAsC,EAArC,gBAAQ,EAAE,mBAA2B,CAAC;IAE7C,SAAe,gBAAgB;;;;;6BACzB,CAAC,IAAI,EAAL,wBAAK;wBACP,qBAAM,gBAAgB,EAAE,EAAA;;wBAAxB,SAAwB,CAAA;;;wBAG1B,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;;;;;KAC5B;IAED,SAAe,cAAc,CAAC,KAAgB;;;;;;wBAC5C,KAAK,CAAC,cAAc,EAAE,CAAC;wBAEvB,IAAI,QAAQ,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE;4BAC1B,sBAAO;yBACR;wBAEe,qBAAM,mBAAQ,CAAC,GAAG,CAAC,WAAS,QAAU,CAAC,CAAC,GAAG,EAAE,EAAA;;wBAAvD,OAAO,GAAG,SAA6C;wBAE7D,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE;4BACrB,KAAK,CAAC,uBAAuB,CAAC,CAAC;4BAC/B,sBAAO;yBACR;wBAED,IAAI,OAAO,CAAC,GAAG,EAAE,CAAC,OAAO,EAAE;4BACzB,KAAK,CAAC,sBAAsB,CAAC,CAAC;4BAC9B,sBAAO;yBACR;wBAED,OAAO,CAAC,IAAI,CAAC,YAAU,QAAU,CAAC,CAAC;;;;;KACpC;IAED,OAAO,CACL,6BAAK,EAAE,EAAC,WAAW;QACjB;YACE,6BAAK,GAAG,EAAE,6BAAe,EAAE,GAAG,EAAC,yDAA+C,GAAG;YACjF,gEAA8C;YAC9C,0FAAqD,CAC/C;QACR;YACE,6BAAK,SAAS,EAAC,cAAc;gBAC3B,6BAAK,GAAG,EAAE,qBAAO,EAAE,GAAG,EAAC,UAAU,GAAG;gBACpC,gCAAQ,OAAO,EAAE,gBAAgB,EAAE,SAAS,EAAC,aAAa;oBACxD,6BAAK,GAAG,EAAE,4BAAa,EAAE,GAAG,EAAC,gBAAgB,GAAG;iDAEzC;gBACT,6BAAK,SAAS,EAAC,WAAW,2BAA2B;gBACrD,8BAAM,QAAQ,EAAE,cAAc;oBAC5B,+BACE,IAAI,EAAC,MAAM,EACX,WAAW,EAAC,8BAAyB,EACrC,QAAQ,EAAE,UAAA,KAAK,IAAI,OAAA,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,EAA/B,CAA+B,EAClD,KAAK,EAAE,QAAQ,GACf;oBACF,oBAAC,eAAM,IAAC,IAAI,EAAC,QAAQ,qBAEZ,CACJ,CACH,CACD,CACH,CACP,CAAA;AACH,CAAC;AAjED,oBAiEC","file":"Home.js","sourcesContent":["import { useHistory } from 'react-router-dom'\nimport { FormEvent, useState } from 'react';\n\n//webpack\nimport illustrationImg from '../assets/images/illustration.svg'\nimport logoImg from '../assets/images/logo.svg';\nimport googleIconImg from '../assets/images/google-icon.svg';\n\nimport { database } from '../services/firebase';\n\nimport { Button } from '../components/Button';\nimport { useAuth } from '../hooks/useAuth';\n\nimport '../styles/auth.scss';\n\nexport function Home() {\n  const history = useHistory();\n  const { user, signInWithGoogle } = useAuth()\n  const [roomCode, setRoomCode] = useState('');\n\n  async function handleCreateRoom() {\n    if (!user) {\n      await signInWithGoogle()\n    }\n\n    history.push('/rooms/new');\n  }\n\n  async function handleJoinRoom(event: FormEvent) {\n    event.preventDefault();\n\n    if (roomCode.trim() === '') {\n      return;\n    }\n\n    const roomRef = await database.ref(`rooms/${roomCode}`).get();\n\n    if (!roomRef.exists()) {\n      alert('Room does not exists.');\n      return;\n    }\n\n    if (roomRef.val().endedAt) {\n      alert('Room already closed.');\n      return;\n    }\n\n    history.push(`/rooms/${roomCode}`);\n  }\n\n  return (\n    <div id=\"page-auth\">\n      <aside>\n        <img src={illustrationImg} alt=\"Ilustração simbolizando perguntas e respostas\" />\n        <strong>Crie salas de Q&amp;A ao-vivo</strong>\n        <p>Tire as dúvidas da sua audiência em tempo-real</p>\n      </aside>\n      <main>\n        <div className=\"main-content\">\n          <img src={logoImg} alt=\"Letmeask\" />\n          <button onClick={handleCreateRoom} className=\"create-room\">\n            <img src={googleIconImg} alt=\"Logo do Google\" />\n            Crie sua sala com o Google\n          </button>\n          <div className=\"separator\">ou entre em uma sala</div>\n          <form onSubmit={handleJoinRoom}>\n            <input \n              type=\"text\"\n              placeholder=\"Digite o código da sala\"\n              onChange={event => setRoomCode(event.target.value)}\n              value={roomCode}\n            />\n            <Button type=\"submit\">\n              Entrar na sala\n            </Button>\n          </form>\n        </div>\n      </main>\n    </div>\n  )\n}"]}